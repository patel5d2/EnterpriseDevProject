<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Network â€“ Tri-State University Directory</title>
    <meta name="description"
        content="The centralized directory for verified university students across the tri-state area." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>

<body class="auth-page">

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-brand">
            <div class="nav-logo">ðŸŽ“</div>
            <span class="nav-title"><strong>STUDENT</strong>NETWORK</span>
        </div>
        <div class="nav-links">
            <a href="#" class="nav-link">Link One</a>
            <a href="#" class="nav-link">Link Two</a>
            <span class="nav-divider">|</span>
            <a href="#" class="btn btn-outline-sm">Support</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="auth-layout">
        <div class="auth-hero">
            <div class="badge-label">TRI-STATE STUDENT NETWORK</div>
            <h1 class="auth-headline">Connect with the<br /><em>university</em><br />community.</h1>
            <p class="auth-subtext">
                The centralized directory for verified university students across the tri-state area.
                Network, collaborate, and grow your professional circle.
            </p>
            <div class="stats-row">
                <div class="stat">
                    <span class="stat-number">50+</span>
                    <span class="stat-label">UNIVERSITIES</span>
                </div>
                <div class="stat">
                    <span class="stat-number">120k+</span>
                    <span class="stat-label">STUDENTS</span>
                </div>
            </div>
        </div>

        <!-- Auth Card -->
        <div class="auth-card">

            <!-- Tab Switcher -->
            <div class="tab-bar">
                <a th:href="@{/login(tab=signin)}" th:classappend="${activeTab == 'signin'} ? 'tab-active' : ''"
                    class="tab-btn" id="signin-tab">SIGN IN</a>
                <a th:href="@{/login(tab=signup)}" th:classappend="${activeTab == 'signup'} ? 'tab-active' : ''"
                    class="tab-btn" id="signup-tab">SIGN UP</a>
            </div>

            <!-- SIGN IN Form -->
            <div th:if="${activeTab == 'signin'}" class="tab-content" id="signin-content">
                <!-- Success message after registration -->
                <div th:if="${param.registered}" class="alert alert-success">
                    Account created successfully! Please sign in.
                </div>
                <!-- Logout message -->
                <div th:if="${logoutMsg != null}" class="alert alert-success" th:text="${logoutMsg}"></div>
                <!-- Error message -->
                <div th:if="${errorMsg != null}" class="alert alert-error" th:text="${errorMsg}"></div>

                <form th:action="@{/login}" method="post" id="signin-form">
                    <div class="form-group">
                        <label class="form-label" for="username">UNIVERSITY EMAIL</label>
                        <input type="email" id="username" name="username" class="form-input"
                            placeholder="student@edu.university" required />
                        <small class="form-hint">* Requires verification via .edu domain</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">PASSWORD</label>
                        <input type="password" id="password" name="password" class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                            required />
                    </div>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <button type="submit" class="btn-primary-full" id="signin-btn">SIGN IN</button>
                </form>

                <div class="divider"><span>SECURE ENTRY</span></div>
                <a href="#" class="sso-link">INSTITUTIONAL SSO LOGIN</a>
            </div>

            <!-- SIGN UP Form -->
            <div th:if="${activeTab == 'signup'}" class="tab-content" id="signup-content">
                <!-- Registration error -->
                <div th:if="${registerError != null}" class="alert alert-error" th:text="${registerError}"></div>

                <form th:action="@{/register}" method="post" th:object="${registerForm}" id="signup-form">
                    <div class="form-group">
                        <label class="form-label" for="reg-email">UNIVERSITY EMAIL</label>
                        <input type="email" id="reg-email" th:field="*{email}"
                            th:classappend="${#fields.hasErrors('email')} ? 'input-error' : ''" class="form-input"
                            placeholder="student@edu.university" required />
                        <small class="form-hint">* Requires verification via .edu domain</small>
                        <div th:if="${#fields.hasErrors('email')}" class="field-error">
                            <span th:errors="*{email}"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-password">CREATE PASSWORD</label>
                        <input type="password" id="reg-password" th:field="*{password}"
                            th:classappend="${#fields.hasErrors('password')} ? 'input-error' : ''" class="form-input"
                            placeholder="Min. 8 characters" required />
                        <div th:if="${#fields.hasErrors('password')}" class="field-error">
                            <span th:errors="*{password}"></span>
                        </div>
                    </div>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <button type="submit" class="btn-primary-full" id="signup-btn">VERIFIED SIGN UP</button>
                </form>

                <div class="divider"><span>SECURE ENTRY</span></div>
                <a href="#" class="sso-link">INSTITUTIONAL SSO LOGIN</a>
            </div>

        </div>
    </div>

</body>

</html>